# Implementation Plan: Frontend Tailwind CSS Migration

**Branch**: `001-tailwind-migration` | **Date**: 2026-01-22 | **Spec**: [spec.md](./spec.md)
**Input**: Feature specification from `/specs/001-tailwind-migration/spec.md`

## Summary

将前端样式从混合模式（Bootstrap CSS + 自定义 CSS + 分散的 Tailwind 配置）统一迁移到 Tailwind CSS。采用增量迁移策略，逐页/逐组件转换并验证，保持视觉一致性。最终删除冗余的 CSS 文件，仅保留 FontAwesome 和必要的补充样式。

## Technical Context

**Language/Version**: Python 3.x (Flask), HTML5, JavaScript ES6+
**Primary Dependencies**: Tailwind CSS (CDN), Bootstrap JS Bundle (保留), FontAwesome 6, jQuery 3.7.1
**Storage**: N/A (前端重构，不涉及数据库)
**Testing**: 手动截图对比验证视觉一致性
**Target Platform**: Web (现代浏览器)
**Project Type**: Web application (Flask + Jinja2 templates)
**Performance Goals**: 页面加载时间不超过迁移前的 120%
**Constraints**: 继续使用 Tailwind CDN 模式，不引入构建流程
**Scale/Scope**: 37 个 HTML 模板，2 个主要 CSS 文件 (1272 行)，14 个蓝图文件

## Constitution Check

*GATE: Must pass before Phase 0 research. Re-check after Phase 1 design.*

Verify compliance with `.specify/memory/constitution.md`:

- [x] **模块化解耦**: 前端重构不影响后端模块结构，样式与逻辑分离
- [x] **微服务分离**: 不涉及 AI 微服务，仅前端样式变更
- [x] **前端设计一致性**: 严格遵循 `templates/FRONTEND_GUIDE.md` 规范，统一 Tailwind 配置
- [N/A] **批改器可扩展性**: 不涉及批改逻辑
- [N/A] **数据库迁移友好**: 不涉及数据库变更
- [N/A] **AI 能力分层**: 不涉及 AI 调用
- [N/A] **AI 内容生成与缓存**: 不涉及 AI 内容生成
- [x] **前端 AI 内容展示**: AI 欢迎消息组件样式将迁移到 Tailwind，保持流式效果
- [N/A] **AI 提示工程**: 不涉及提示词

## Project Structure

### Documentation (this feature)

```text
specs/001-tailwind-migration/
├── plan.md              # This file
├── research.md          # CSS to Tailwind conversion patterns
├── data-model.md        # File inventory and conversion mapping
├── quickstart.md        # Migration execution guide
└── tasks.md             # Task breakdown (generated by /speckit.tasks)
```

### Source Code (affected files)

```text
autoCorrecting/
├── templates/                    # 37 HTML templates to migrate
│   ├── base.html                # Centralized Tailwind config (target)
│   ├── *.html                   # Page templates (remove inline styles)
│   └── components/              # Component templates (remove inline styles)
│       ├── ai_welcome_message.html
│       ├── notification_center.html
│       └── stats/*.html
├── static/
│   ├── css/
│   │   ├── style.css           # TO DELETE after migration
│   │   ├── ai_chat.css         # TO DELETE after migration
│   │   ├── bootstrap*.css      # TO DELETE (keep JS only)
│   │   └── all.min.css         # KEEP (FontAwesome)
│   ├── js/
│   │   └── modules/ai-chat/chat-ui.js  # Update inline styles
│   └── fonts/                   # KEEP (FontAwesome fonts)
└── blueprints/                  # No HTML strings (all use render_template)
```

**Structure Decision**: 现有目录结构保持不变，仅修改文件内容和删除冗余文件。

## Complexity Tracking

> No constitution violations. This is a pure frontend refactoring task.

## Migration Scope Summary

| Category | Count | Action |
|----------|-------|--------|
| HTML Templates | 37 | Convert inline styles to Tailwind classes |
| Custom CSS Files | 2 | Convert to Tailwind, then delete |
| Bootstrap CSS Files | 12 | Delete (keep JS bundle only) |
| JS Files with Inline Styles | 2 | Update dynamic styles |
| Python Blueprints | 14 | No changes needed (all use render_template) |

## Key Conversion Targets

### style.css (431 lines) → Tailwind Classes

| CSS Class | Tailwind Equivalent |
|-----------|---------------------|
| `.card-glass` | `bg-white/70 backdrop-blur-xl rounded-2xl shadow-lg border border-white/20` |
| `.btn-primary` | `bg-gradient-to-r from-indigo-500 to-purple-600 text-white rounded-lg px-4 py-2 hover:shadow-lg` |
| `.form-control` | `bg-white/50 border border-slate-200 rounded-lg px-4 py-2 focus:ring-2 focus:ring-indigo-500` |
| `.navbar-custom` | `bg-white/80 backdrop-blur-md shadow-sm` |

### ai_chat.css (841 lines) → Tailwind Classes

| CSS Class | Tailwind Equivalent |
|-----------|---------------------|
| `.ai-chat-fab` | `fixed bottom-6 right-6 w-14 h-14 bg-gradient-to-r from-indigo-500 to-purple-600 rounded-full shadow-lg` |
| `.ai-chat-modal` | `fixed inset-0 bg-black/50 backdrop-blur-sm z-50` |
| `.message-user` | `bg-indigo-500 text-white rounded-2xl rounded-br-md px-4 py-2` |
| `.message-assistant` | `bg-white/80 backdrop-blur rounded-2xl rounded-bl-md px-4 py-2` |
